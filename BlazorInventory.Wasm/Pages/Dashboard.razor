@page "/dashboard"

<div class="page">
    @if (isLoading)
    {
        <div class="spinner"></div>
    }
    else
    { @if (loadingException is not null)
        {
            <div class="error-box">
                <h1 class="font-bold">
                    Sorry, we couldn't load the dashboard data. Check your internet
                    connection.
                </h1>
                <details>
                    <summary>Technical details</summary>
                    <pre>@loadingException</pre>
                </details>
            </div>
        }
        else if (clientSideDbContext is null)
        {
            <p>Loading dashboard data...</p>
        }
        else
        {
            <!-- Dashboard mockup based on https://github.com/tailwindtoolbox/Admin-Template -->
            <div class="flex flex-wrap">
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-green-600 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-green-600">
                                    <i class="fa fa-wallet fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Parts count</h5>
                                <h3 class="text-2xl">@partsDataCount</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-green-600 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-green-600">
                                    <i class="fa fa-wallet fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Most expensive Part</h5>
                                <h3 class="text-2xl">@mostExpensivePart</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-pink-500 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-pink-600">
                                    <i class="fas fa-users fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Most used category</h5>
                                <h3 class="text-2xl">@mostUsedCategory</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-pink-500 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-pink-600">
                                    <i class="fas fa-users fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Less used category</h5>
                                <h3 class="text-2xl">@lessUsedCategory</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-green-600 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-green-600">
                                    <i class="fa fa-wallet fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Max stock part</h5>
                                <h3 class="text-2xl">@partWithMaxStock</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-blue-500 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-blue-600">
                                    <i class="fas fa-server fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Min stock Part</h5>
                                <h3 class="text-2xl">@partWithMinStock</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-indigo-500 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-indigo-600">
                                    <i class="fas fa-tasks fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">Location with the most parts</h5>
                                <h3 class="text-2xl">@locationWithMostParts</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full md:w-1/3 p-4">
                    <div class="bg-gradient-to-b from-gray-200 to-gray-100 border-b-4 border-red-500 rounded-lg shadow-xl p-5 pb-4">
                        <div class="flex flex-row items-center">
                            <div class="flex-shrink pr-4">
                                <div class="rounded-full p-5 bg-red-600">
                                    <i class="fas fa-inbox fa-2x fa-inverse"></i>
                                </div>
                            </div>
                            <div class="flex-1 text-right md:text-center">
                                <h5 class="uppercase text-gray-600">
                                    Location with the lowest part number
                                </h5>
                                <h3 class="text-2xl">@locationWithLowestParts</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-wrap text-center">
                <div class="w-full md:w-1/2 p-4">
                    <div class="rounded-md p-5 border-b-4 border-yellow-500"
                         style="background-color: #ebebeb">
                        <h5 class="uppercase text-gray-600">Power Consumption</h5>
                        <div class="h-56"
                             style="
            background-image: url(dashboard/graph1.png);
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
          "></div>
                    </div>
                </div>
                <div class="w-full md:w-1/2 p-4">
                    <div class="rounded-md p-5 border-b-4 border-green-500"
                         style="background-color: #ebebeb">
                        <h5 class="uppercase text-gray-600">Units Produced</h5>
                        <div class="h-56"
                             style="
            background-image: url(dashboard/graph2.png);
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
          "></div>
                    </div>
                </div>
            </div>
        }       }
</div>
